============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/air/Developer/docs-to-eval
configfile: pytest.ini
plugins: asyncio-1.2.0, anyio-4.11.0, timeout-2.4.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 2 items

tests/automated/test_core_workflow.py F.

=================================== FAILURES ===================================
________________ test_agentic_generation_and_verification_flow _________________

sample_corpus = '\n    Artificial intelligence (AI) is intelligence demonstrated by machines, \n    in contrast to the natural intelli... learning that uses neural networks with multiple \n    layers to model and understand complex patterns in data.\n    '

    def test_agentic_generation_and_verification_flow(sample_corpus):
        """End-to-end smoke test from classification to verification."""
        random.seed(42)
    
>       classifier = EvaluationTypeClassifier()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/automated/test_core_workflow.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
docs_to_eval/core/classification.py:122: in __init__
    self.classification_prompt_template = self._get_classification_prompt()
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <docs_to_eval.core.classification.EvaluationTypeClassifier object at 0x107289490>

    def _get_classification_prompt(self) -> str:
        """Get the classification prompt template"""
>       available_types = json.dumps({k.value: v.model_dump() for k, v in EVAL_TYPES.items()}, indent=2)
                                               ^^^^^^^^^^^^
E       AttributeError: 'BasicEvaluationConfig' object has no attribute 'model_dump'

docs_to_eval/core/classification.py:127: AttributeError
=============================== warnings summary ===============================
../../../../opt/homebrew/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:319
  /opt/homebrew/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:319: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.12/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    warnings.warn(

docs_to_eval/ui_api/routes.py:45
  /Users/air/Developer/docs-to-eval/docs_to_eval/ui_api/routes.py:45: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('text')

docs_to_eval/ui_api/routes.py:66
  /Users/air/Developer/docs-to-eval/docs_to_eval/ui_api/routes.py:66: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('name')

docs_to_eval/ui_api/routes.py:101
  /Users/air/Developer/docs-to-eval/docs_to_eval/ui_api/routes.py:101: PydanticDeprecatedSince20: Pydantic V1 style `@root_validator` validators are deprecated. You should migrate to Pydantic V2 style `@model_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @root_validator(pre=True)

docs_to_eval/ui_api/routes.py:111
  /Users/air/Developer/docs-to-eval/docs_to_eval/ui_api/routes.py:111: PydanticDeprecatedSince20: Pydantic V1 style `@root_validator` validators are deprecated. You should migrate to Pydantic V2 style `@model_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @root_validator(pre=True)

docs_to_eval/ui_api/routes.py:121
  /Users/air/Developer/docs-to-eval/docs_to_eval/ui_api/routes.py:121: PydanticDeprecatedSince20: Pydantic V1 style `@root_validator` validators are deprecated. You should migrate to Pydantic V2 style `@model_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @root_validator(pre=True)

docs_to_eval/ui_api/routes.py:150
  /Users/air/Developer/docs-to-eval/docs_to_eval/ui_api/routes.py:150: PydanticDeprecatedSince20: Pydantic V1 style `@root_validator` validators are deprecated. You should migrate to Pydantic V2 style `@model_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @root_validator(pre=True)

docs_to_eval/ui_api/routes.py:160
  /Users/air/Developer/docs-to-eval/docs_to_eval/ui_api/routes.py:160: PydanticDeprecatedSince20: Pydantic V1 style `@root_validator` validators are deprecated. You should migrate to Pydantic V2 style `@model_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @root_validator(pre=True)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/automated/test_core_workflow.py::test_agentic_generation_and_verification_flow
=================== 1 failed, 1 passed, 8 warnings in 0.03s ====================
